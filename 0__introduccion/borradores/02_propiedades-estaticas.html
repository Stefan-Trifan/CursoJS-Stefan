<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clases II</title>
    <link rel="shortcut icon" href="#">
    <link rel="stylesheet" href="../../assets/style.css">
</head>
<body>
    <section>
        <h1 id="titulo">Clases II</h1>
    </section>
    <script>
        class Persona {

            // üìå Propiedad est√°tica
            // Queremos saber cuantas instancias tenemos inicializadas con mi clase
            static _conteo = 0

            static get conteo(){
                return Persona._conteo + ' instancias'
            }

            static mensaje() {
                console.log(this.nombre)
                console.log('Hola a todos, soy un m√©todo est√°tico')
            }

            // I Declaramos las variables. Es un paso opcional
            nombre;
            codigo;
            frase;
            comida;

            // II Constructor. Valores por defecto
            constructor(nombre = 'Sin nombre', codigo = 'Sin c√≥digo', frase = 'Sin frase') {
                this.nombre = nombre
                this.codigo = codigo
                this.frase = frase

                Persona._conteo++
            }

            // III Sets y Gets
            // Los sets no pueden tener el mismo nombre que la propiedad que queremos establecer
            set setComidaFavorita( comida ) {
                this.comida = comida.toUpperCase()
            }
            // Recuper√° una propiedad construida
            get getComidaFvorita() {
                return `La comida favorita de ${this.nombre} es ${this.comida}`
            }

            // IV Los m√©todos se suelen declarar despu√©s del constructor
            quienSoy = () => {
                console.log(`Hola, soy ${ this.nombre } y mi identidad es ${ this.codigo }` )
            }

            // Llamamos a un m√©todo dentro de otro m√©todo
            miFrase = () => {
                // Hay que poner this para que encuentre el m√©todo, ya que est√°n en scopes diferentes
                this.quienSoy()
                console.log(`${this.codigo} dice: ${this.frase}`)
            }
        }

        // Creamos una instancia de la clase
        console.log('______ PRIMERA INSTANCIA ______')
        const spiderman = new Persona('Peter Parker', 'Spiderman', 'Soy un vengador bueno')
        spiderman.miFrase()
        // 
        spiderman.setComidaFavorita = 'el pie de cereza de la t√≠a May'
        console.log(spiderman.getComidaFvorita)
        console.log(spiderman)

        console.log('______ SEGUNDA INSTANCIA ______')
        const ironman = new Persona('Tony Stark', 'Ironman', 'Soy un vengador bueno')
        console.log(ironman)
        ironman.miFrase()

        // Persona._conteo = 2
        console.log('Conteo est√°tico', Persona._conteo)

        console.log(Persona.conteo)
        Persona.mensaje()

        Persona.propiedadExterna = 'Hola Mundo'
        console.log(Persona.propiedadExter)
        console.log(Persona)


    </script>
</body>
</html>